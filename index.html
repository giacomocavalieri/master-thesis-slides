<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hugo 0.107.0"><meta charset="utf-8"><title>Gestione degli Effetti</title><meta name="author" content="Giacomo Cavalieri"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel="stylesheet" href="/master-thesis-slides/reveal-js/css/reset.css"><link rel="stylesheet" href="/master-thesis-slides/reveal-js/css/reveal.css"><link rel="stylesheet" href="/master-thesis-slides/css/custom-theme.min.fd0af48f8f4248692e74eb3d494e8620aa5e748ec6ec901196786d6e5ec91ad3.css" id="theme"><link rel="stylesheet" href="/master-thesis-slides/highlight-js/github-gist.min.css"><link href="https://fonts.googleapis.com/css?family=Roboto Mono" rel="stylesheet"></head><body><div class="reveal"><div class="slides"><section data-noprocess="" data-shortcode-slide="" id="titleSlide"><h1 id="gestione-degli-effetti-in-linguaggi-di-programmazione-funzionale-tecniche-di-modellazione-e-interpretazione">Gestione degli effetti in linguaggi di programmazione funzionale: tecniche di modellazione e interpretazione</h1><div class="multiCol"><div class="col"><p><em>Relatore</em></p><ul><li>Mirko Viroli</li></ul><p><em>Correlatori</em></p><ul><li>Roberto Casadei</li><li>Gianluca Aguzzi</li></ul></div><div class="col"><p><em>Candidato</em></p><ul><li>Giacomo Cavalieri</li></ul></div></div></section><section><h2 id="side-effect-nei-linguaggi-di-programmazione">Side effect nei linguaggi di programmazione</h2><blockquote><p>If a program has no <strong>side effects</strong> there’s no point in running it.
You have a black box, you press go and it gets hot but there’s no output
<em>Simon Peyton-Jones</em></p></blockquote><div class="highlight"><pre tabindex="0" class="chroma"><code class="nohighlight" data-noescape=""><span class="line"><span class="cl"><span class="k">def</span> <span class="n">appendToFile</span><span class="o">(</span><span class="n">file</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">line</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">  <span class="n">println</span><span class="o">(</span><span class="s">f"Appending </span><span class="si">$line</span><span class="s"> to </span><span class="si">$file</span><span class="s">"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="nc">Using</span><span class="o">(</span><span class="nc">FileWriter</span><span class="o">(</span><span class="n">file</span><span class="o">,</span> <span class="kc">true</span><span class="o">))(</span><span class="k">_</span><span class="o">.</span><span class="n">write</span><span class="o">(</span><span class="s">f"</span><span class="si">$line\n</span><span class="s">"</span><span class="o">))</span>
</span></span></code></pre></div></section><section><blockquote><p><strong>Side effects are lies.</strong> Your function promises to do one thing, but it also does other hidden things.
[…] They are mistruths that often result in strange temporal couplings and order dependencies.
<em>Robert Cecil Martin</em></p></blockquote><div class="multiCol"><div class="col"><div class="highlight"><pre tabindex="0" class="chroma"><code class="nohighlight" data-noescape=""><span class="line"><span class="cl"><span class="c1">// f : Double =&gt; Double
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">def</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">  <span class="n">appendToFile</span><span class="o">(</span><span class="s">"path/to/file"</span><span class="o">,</span> <span class="s">"Effect!"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="nc">Math</span><span class="o">.</span><span class="n">cos</span><span class="o">(</span><span class="n">x</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">+</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">=/=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)</span>
</span></span></code></pre></div></div><div class="col"><div class="highlight"><pre tabindex="0" class="chroma"><code class="nohighlight" data-noescape=""><span class="line"><span class="cl"><span class="c1">// g : Double =&gt; Double
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">def</span> <span class="n">g</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">  <span class="nc">Math</span><span class="o">.</span><span class="n">cos</span><span class="o">(</span><span class="n">x</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">g</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">+</span> <span class="n">g</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">g</span><span class="o">(</span><span class="n">x</span><span class="o">)</span>
</span></span></code></pre></div></div></div></section><section><h2 id="modellazione-dei-side-effect-tramite-monadi">Modellazione dei side effect tramite monadi</h2><p>Il design pattern delle monadi consiste nel trasformare il programma in una struttura dati immutabile che <strong>descrive</strong> i side effect che possono verificarsi:</p><ul><li>Un programma diventa <strong>un’entità di prima classe</strong></li><li>I programmi possono essere descritti e composti in maniera <strong>modulare</strong></li><li>È possibile <strong>modificare la semantica</strong> di un programma interpretandolo diversamente</li></ul></section><section><p>Una funzione realizzata seguendo questo approccio non “mente” sul proprio comportamento: specifica in maniera astratta il <strong>contesto computazionale</strong> all’interno del quale può aver luogo e quali side effect possono verificarsi</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="nohighlight" data-noescape=""><span class="line"><span class="cl"><span class="c1">// f : Double =&gt; Double
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">def</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">  <span class="n">appendToFile</span><span class="o">(</span><span class="s">"path/to/file"</span><span class="o">,</span> <span class="s">"Effect!"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="nc">Math</span><span class="o">.</span><span class="n">cos</span><span class="o">(</span><span class="n">x</span><span class="o">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="nohighlight" data-noescape=""><span class="line"><span class="cl"><span class="c1">// f : Double =&gt; M[Double]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">def</span> <span class="n">f</span><span class="o">[</span><span class="kt">M</span><span class="o">[</span><span class="k">_</span><span class="o">]</span><span class="kt">:</span> <span class="kt">FileSystem:</span> <span class="kt">Console:</span> <span class="kt">Monad</span><span class="o">](</span><span class="n">x</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span><span class="k">:</span> <span class="kt">M</span><span class="o">[</span><span class="kt">Double</span><span class="o">]</span> <span class="k">=</span> <span class="k">for</span>
</span></span><span class="line"><span class="cl">    <span class="k">_</span> <span class="k">&lt;-</span> <span class="nc">FileSystem</span><span class="o">.</span><span class="n">appendToFile</span><span class="o">(</span><span class="s">"path/to/file"</span><span class="o">,</span> <span class="s">"Effect!"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">yield</span> <span class="nc">Math</span><span class="o">.</span><span class="n">cos</span><span class="o">(</span><span class="n">x</span><span class="o">)</span>
</span></span></code></pre></div></section><section data-noprocess="" data-auto-animate=""><h2>Effect System</h2><p>L'approccio monadico permette di imporre un effect system</p><ul><li>Permette di individuare esattamente quali side effect può avere una funzione</li><li>Permette di capire quali funzioni sono pure e quali no</li><li>Impedisce di mescolare inavvertitamente codice puro e con side effect</li></ul><div class="outer-circle">Imperative shell<div class="inner-circle">Functional core</div></div></section></div></div><script type="text/javascript" src="/master-thesis-slides/reveal-hugo/object-assign.js"></script>
<a href="/master-thesis-slides/reveal-js/css/print/" id="print-location" style="display:none"></a>
<script type="text/javascript">var printLocationElement=document.getElementById("print-location"),link=document.createElement("link");link.rel="stylesheet",link.type="text/css",link.href=printLocationElement.href+(window.location.search.match(/print-pdf/gi)?"pdf.css":"paper.css"),document.getElementsByTagName("head")[0].appendChild(link)</script><script type="application/json" id="reveal-hugo-site-params">{"custom_theme":"custom-theme.scss","custom_theme_compile":true,"custom_theme_options":{"enablesourcemap":true,"targetpath":"css/custom-theme.css"},"height":"900","highlight_theme":"github-gist","mermaid":[{"fontFamily":"Inconsolata","startOnLoad":false,"theme":"default","useMaxWidth":false}],"pdfseparatefragments":false,"slide_number":false,"theme":"white","width":"1440"}</script><script type="application/json" id="reveal-hugo-page-params">null</script><script src="/master-thesis-slides/reveal-js/js/reveal.js"></script>
<script type="text/javascript">function camelize(e){return e&&Object.keys(e).forEach(function(t){newK=t.replace(/(_\w)/g,function(e){return e[1].toUpperCase()}),newK!=t&&(e[newK]=e[t],delete e[t])}),e}var revealHugoDefaults={center:!0,controls:!0,history:!0,progress:!0,transition:"slide"},revealHugoSiteParams=JSON.parse(document.getElementById("reveal-hugo-site-params").innerHTML),revealHugoPageParams=JSON.parse(document.getElementById("reveal-hugo-page-params").innerHTML),options=Object.assign({},camelize(revealHugoDefaults),camelize(revealHugoSiteParams),camelize(revealHugoPageParams));Reveal.initialize(options)</script><script type="text/javascript" src="/master-thesis-slides/reveal-js/plugin/markdown/marked.js"></script>
<script type="text/javascript" src="/master-thesis-slides/reveal-js/plugin/markdown/markdown.js"></script>
<script type="text/javascript" src="/master-thesis-slides/reveal-js/plugin/highlight/highlight.js"></script>
<script type="text/javascript" src="/master-thesis-slides/reveal-js/plugin/zoom-js/zoom.js"></script>
<script type="text/javascript" src="/master-thesis-slides/reveal-js/plugin/notes/notes.js"></script>
<script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]},svg:{fontCache:"global"}}</script><script type="text/javascript" id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script></body></html>